<div class="container mt-4">
  <h3 *ngIf="!isEdit">Nuovo abito</h3>
  <h3 *ngIf="isEdit">Modifica abito</h3>

  <form [formGroup]="abitoForm" (ngSubmit)="onSubmit()">

    <!-- Tipo -->
    <div class="mb-3">
      <label class="form-label">Tipo</label>
      <select class="form-select" formControlName="tipo">
        <option value="">-- Seleziona tipo --</option>
        <option value="PANTALONE">Pantalone</option>
        <option value="CAMICIA">Camicia</option>
        <option value="MAGLIONE">Maglione</option>
        <option value="GIACCA">Giacca</option>
      </select>
      <div *ngIf="abitoForm.get('tipo')?.invalid && abitoForm.get('tipo')?.touched"
           class="text-danger">Tipo obbligatorio</div>
    </div>

    <!-- Marca -->
    <div class="mb-3">
      <label class="form-label">Marca</label>
      <input type="text" class="form-control" formControlName="marca">
      <div *ngIf="abitoForm.get('marca')?.invalid && abitoForm.get('marca')?.touched"
           class="text-danger">Marca obbligatoria</div>
    </div>

    <!-- Taglia -->
    <div class="mb-3">
      <label class="form-label">Taglia</label>
      <input type="text" class="form-control" formControlName="taglia">
      <div *ngIf="abitoForm.get('taglia')?.invalid && abitoForm.get('taglia')?.touched"
           class="text-danger">Taglia obbligatoria</div>
    </div>

    <!-- Prezzo -->
    <div class="mb-3">
      <label class="form-label">Prezzo</label>
      <input type="number" step="0.01" class="form-control" formControlName="prezzo">
      <div *ngIf="abitoForm.get('prezzo')?.invalid && abitoForm.get('prezzo')?.touched"
           class="text-danger">Prezzo obbligatorio e >= 0</div>
    </div>

    <!-- Campi opzionali -->
    <div class="mb-3">
      <label class="form-label">Lunghezza manica (solo camicie)</label>
      <input type="text" class="form-control" formControlName="lunghezzaManica">
    </div>

    <div class="mb-3">
      <label class="form-label">Materiale</label>
      <input type="text" class="form-control" formControlName="materiale">
    </div>

    <div class="mb-3">
      <label class="form-label">Fit (solo pantaloni)</label>
      <input type="text" class="form-control" formControlName="fit">
    </div>

    <button type="submit" class="btn btn-success me-2">
      {{ isEdit ? 'Salva modifiche' : 'Crea abito' }}
    </button>
    <button type="button" class="btn btn-secondary" (click)="annulla()">Annulla</button>

  </form>
</div>
